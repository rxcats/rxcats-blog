"use strict";(self.webpackChunkrxcats_blog=self.webpackChunkrxcats_blog||[]).push([[5650],{4511:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"openfeign-retry","metadata":{"permalink":"/rxcats-blog/blog/openfeign-retry","source":"@site/blog/2023-03-07-openfeign-retry.mdx","title":"Retrying Feign Calls","description":"\uc18c\uac1c","date":"2023-03-07T05:00:00.000Z","formattedDate":"March 7, 2023","tags":[{"label":"SpringCloud","permalink":"/rxcats-blog/blog/tags/spring-cloud"},{"label":"OpenFeign","permalink":"/rxcats-blog/blog/tags/open-feign"},{"label":"Retry","permalink":"/rxcats-blog/blog/tags/retry"},{"label":"ErrorDecoder","permalink":"/rxcats-blog/blog/tags/error-decoder"},{"label":"RetryableException","permalink":"/rxcats-blog/blog/tags/retryable-exception"}],"readingTime":4.86,"hasTruncateMarker":false,"authors":[{"name":"rxcats","title":"Mobile Game Backend Developer","url":"https://github.com/rxcats","imageURL":"https://avatars.githubusercontent.com/u/6582519?v=4","key":"rxcats"}],"frontMatter":{"slug":"openfeign-retry","title":"Retrying Feign Calls","authors":["rxcats"],"tags":["SpringCloud","OpenFeign","Retry","ErrorDecoder","RetryableException"],"date":"2023-03-07T05:00:00.000Z"},"nextItem":{"title":"\ucf54\ub4dc \uc608\uc058\uac8c \uacf5\uc720\ud558\uae30","permalink":"/rxcats-blog/blog/share-code-carbon"}},"content":"## \uc18c\uac1c\\n\\n- REST \uc5d4\ub4dc\ud3ec\uc778\ud2b8\ub97c \ud1b5\ud574 \uc678\ubd80 \uc11c\ube44\uc2a4\ub97c \ud638\ucd9c\ud558\ub294 \uac83\uc740 Feign\uacfc \uac19\uc740 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc5d0\uc11c \ub9e4\uc6b0 \uac04\ub2e8\ud558\uac8c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n- \uadf8\ub7ec\ub098 \uc774\ub7ec\ud55c \ud638\ucd9c \uc911\uc5d0 \ub9ce\uc740 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ubb38\uc81c\uc758 \ub300\ubd80\ubd84\uc740 \ubb34\uc791\uc704\uc801\uc774\uac70\ub098 \uc77c\uc2dc\uc801\uc778 \uac83\uc785\ub2c8\ub2e4.\\n- \uc5ec\uae30\uc5d0\uc11c\ub294 \uc2e4\ud328\ud55c \ud638\ucd9c\uc744 \ub2e4\uc2dc \uc2dc\ub3c4\ud558\uace0 \ubcf4\ub2e4 \ud0c4\ub825\uc801\uc778 REST \ud074\ub77c\uc774\uc5b8\ud2b8\ub97c \ub9cc\ub4dc\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \uc54c\uc544\ubd05\ub2c8\ub2e4.\\n\\n## Spring Cloud OpenFeign \ud658\uacbd\uc124\uc815\\n```\\n# application.properties\\nspring.cloud.openfeign.compression.request.enabled=true\\nspring.cloud.openfeign.compression.response.enabled=true\\nspring.cloud.openfeign.client.config.default.logger-level=full\\nspring.cloud.openfeign.client.config.default.connect-timeout=5000\\nspring.cloud.openfeign.client.config.default.read-timeout=5000\\n```\\n\\n## Feign Retryer\\n\\n### Default Implementation\\n- Feign\uc740 \uc7ac\uc2dc\ub3c4 \uc778\ud130\ud398\uc774\uc2a4\uc758 \ud569\ub9ac\uc801\uc778 \uae30\ubcf8 \uad6c\ud604\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.\\n- \uc8fc\uc5b4\uc9c4 \ud69f\uc218\ub9cc\ud07c\ub9cc \uc7ac\uc2dc\ub3c4\ud558\uace0, \uc77c\uc815 \uc2dc\uac04 \uac04\uaca9\uc73c\ub85c \uc2dc\uc791\ud55c \ub2e4\uc74c, \uc7ac\uc2dc\ub3c4\ud560 \ub54c\ub9c8\ub2e4 \uc9c0\uc815\ub41c \ucd5c\ub300\uac12\uae4c\uc9c0 \uac04\uaca9\uc744 \ub298\ub9bd\ub2c8\ub2e4.\\n- \uc2dc\uc791 \uac04\uaca9\uc744 1\ucd08, \ucd5c\ub300 \uac04\uaca9\uc744 3\ucd08, \ucd5c\ub300 \uc2dc\ub3c4 \ud69f\uc218\ub97c 3\ud68c\ub85c \uc815\uc758\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4:\\n\\n```java\\n@Configuration(proxyBeanMethods = false)\\npublic class CustomOpenFeignConfig {\\n    @Bean\\n    public Retryer feignRetryer() {\\n        return new Retryer.Default(1000, TimeUnit.SECONDS.toMillis(3), 3);\\n    }\\n}\\n```\\n\\n### No Retrying\\n- Feign\uc774 \ud638\ucd9c\uc744 \uc7ac\uc2dc\ub3c4\ud558\uc9c0 \uc54a\ub3c4\ub85d \ud558\ub824\uba74 \ud074\ub77c\uc774\uc5b8\ud2b8 \ube4c\ub354\uc5d0 Retryer.NEVER_RETRY \uad6c\ud604\uc744 \uc81c\uacf5\ud558\uba74 \ub429\ub2c8\ub2e4. \uadf8\ub7ec\uba74 \ub9e4\ubc88 \uc608\uc678\ub97c \uc804\ud30c\ud558\uae30\ub9cc \ud558\uba74 \ub429\ub2c8\ub2e4.\\n\\n```java\\n@Configuration(proxyBeanMethods = false)\\npublic class CustomOpenFeignConfig {\\n    @Bean\\n    public Retryer feignNoRetryer() {\\n        return Retryer.NEVER_RETRY;\\n    }\\n}\\n```\\n\\n## Creating Retryable Exceptions\\n\\n- \uc774\uc804\uc5d0\ub294 \ud638\ucd9c\uc744 \uc7ac\uc2dc\ub3c4\ud558\ub294 \ube48\ub3c4\ub97c \uc81c\uc5b4\ud558\ub294 \ubc29\ubc95\uc744 \ubc30\uc6e0\uc2b5\ub2c8\ub2e4.\\n- \uc774\uc81c \ud638\ucd9c\uc744 \uc7ac\uc2dc\ub3c4\ud560 \ub54c\uc640 \ub2e8\uc21c\ud788 \uc608\uc678\ub97c \ub358\uc9c8 \ub54c\ub97c \uc81c\uc5b4\ud558\ub294 \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.\\n\\n### ErrorDecoder \uc640 RetryableException\\n- \uc798\ubabb\ub41c \uc751\ub2f5\uc744 \ubc1b\uc73c\uba74 Feign\uc740 \uc774\ub97c \uc5b4\ub5bb\uac8c \ucc98\ub9ac\ud560\uc9c0 \uacb0\uc815\ud558\ub294 ErrorDecoder \uc778\ud130\ud398\uc774\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub85c \uc804\ub2ec\ud569\ub2c8\ub2e4.\\n- \uac00\uc7a5 \uc911\uc694\ud55c \uac83\uc740 \ub514\ucf54\ub354\uac00 \uc608\uc678\ub97c RetryableException\uc758 \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub9e4\ud551\ud558\uc5ec Retryer\uac00 \ud638\ucd9c\uc744 \uc7ac\uc2dc\ub3c4\ud560 \uc218 \uc788\ub3c4\ub85d \ud55c\ub2e4\ub294 \uc810\uc785\ub2c8\ub2e4.\\n- ErrorDecoder\uc758 \uae30\ubcf8 \uad6c\ud604\uc740 \uc751\ub2f5\uc5d0 \\"Retry-After\\" \ud5e4\ub354\uac00 \ud3ec\ud568\ub41c \uacbd\uc6b0\uc5d0\ub9cc RetryableException \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4. \uac00\uc7a5 \uc77c\ubc18\uc801\uc73c\ub85c 503 \uc11c\ube44\uc2a4 \uc0ac\uc6a9 \ubd88\uac00 \uc751\ub2f5\uc5d0\uc11c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n- \uc774\ub294 \uc88b\uc740 \uae30\ubcf8 \ub3d9\uc791\uc774\uc9c0\ub9cc \ub54c\ub85c\ub294 \ub354 \uc720\uc5f0\ud574\uc57c \ud560 \ub54c\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.\\n- \uc608\ub97c \ub4e4\uc5b4, \ub54c\ub54c\ub85c 500 \ub0b4\ubd80 \uc11c\ubc84 \uc624\ub958\ub85c \ubb34\uc791\uc704\ub85c \uc751\ub2f5\ud558\ub294 \uc678\ubd80 \uc11c\ube44\uc2a4\uc640 \ud1b5\uc2e0\ud558\uace0 \uc788\ub294\ub370 \uc774\ub97c \ud574\uacb0\ud560 \uc218 \uc788\ub294 \uad8c\ud55c\uc774 \uc5c6\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4.\\n- \uc6b0\ub9ac\uac00 \ud560 \uc218 \uc788\ub294 \uc77c\uc740 \ub2e4\uc74c \ubc88\uc5d0\ub294 \ud1b5\ud654\uac00 \uc131\uacf5\ud560 \uac83\uc774\ub77c\ub294 \uac83\uc744 \uc54c\uae30 \ub54c\ubb38\uc5d0 \ud1b5\ud654\ub97c \ub2e4\uc2dc \uc2dc\ub3c4\ud558\ub294 \uac83\uc785\ub2c8\ub2e4.\\n- \uc774\ub97c \uc704\ud574\uc11c\ub294 \uc0ac\uc6a9\uc790 \uc815\uc758 ErrorDecoder \uad6c\ud604\uc744 \uc791\uc131\ud574\uc57c \ud569\ub2c8\ub2e4.\\n\\n\\n### Custom Error Decoder \uc0dd\uc131\\n\\n- \uc0ac\uc6a9\uc790 \uc815\uc758 \ub514\ucf54\ub354\uc5d0\uc11c \uad6c\ud604\ud574\uc57c \ud558\ub294 \uba54\uc11c\ub4dc\ub294 decode \ud558\ub098\ubfd0\uc785\ub2c8\ub2e4.\\n- \uc774 \uba54\uc11c\ub4dc\ub294 \ub450 \uac1c\uc758 \uc778\uc790, \uc989 String \uba54\uc11c\ub4dc \ud0a4\uc640 Response \uac1d\uccb4\ub97c \ubc1b\uc2b5\ub2c8\ub2e4.\\n- \uc774 \uba54\uc11c\ub4dc\ub294 \uc608\uc678\ub97c \ubc18\ud658\ud558\ub294\ub370, \uc774 \uc608\uc678\uac00 RetryableException\uc758 \uc778\uc2a4\ud134\uc2a4\uc774\uac70\ub098 \uad6c\ud604\uc5d0 \ub530\ub77c \ub2e4\ub978 \uc608\uc678\uc778 \uacbd\uc6b0 \uc608\uc678\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.\\n- \ub514\ucf54\ub529 \uba54\uc11c\ub4dc\ub294 \ub2e8\uc21c\ud788 \uc751\ub2f5\uc758 \uc0c1\ud0dc \ucf54\ub4dc\uac00 500\ubcf4\ub2e4 \ub192\uac70\ub098 \uac19\uc740\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4.\\n- \uc774 \uacbd\uc6b0 RetryableException\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4. \uadf8\ub807\uc9c0 \uc54a\uc740 \uacbd\uc6b0, FeignException \ud074\ub798\uc2a4\uc758 errorStatus \ud329\ud1a0\ub9ac \ud568\uc218\ub85c \uc0dd\uc131\ub41c \uae30\ubcf8 FeignException\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4:\\n\\n```java\\npublic class Custom5xxErrorDecoder implements ErrorDecoder {\\n    @Override\\n    public Exception decode(String methodKey, Response response) {\\n        FeignException exception = feign.FeignException.errorStatus(methodKey, response);\\n        int status = response.status();\\n        if (status >= 500) {\\n            return new RetryableException(\\n              response.status(),\\n              exception.getMessage(),\\n              response.request().httpMethod(),\\n              exception,\\n              null,\\n              response.request());\\n        }\\n        return exception;\\n    }\\n}\\n```\\n\\n### Custom Error Decoder \uc124\uc815 \ucd94\uac00\\n```java\\n@Configuration(proxyBeanMethods = false)\\npublic class CustomOpenFeignConfig {\\n    @Bean\\n    public ErrorDecoder custom5xxErrorDecoder() {\\n        return new Custom5xxErrorDecoder();\\n    }\\n}\\n```"},{"id":"share-code-carbon","metadata":{"permalink":"/rxcats-blog/blog/share-code-carbon","source":"@site/blog/2022-12-31-share-code-carbon.mdx","title":"\ucf54\ub4dc \uc608\uc058\uac8c \uacf5\uc720\ud558\uae30","description":"Carbon","date":"2022-12-31T06:00:00.000Z","formattedDate":"December 31, 2022","tags":[{"label":"share","permalink":"/rxcats-blog/blog/tags/share"},{"label":"code","permalink":"/rxcats-blog/blog/tags/code"},{"label":"carbon","permalink":"/rxcats-blog/blog/tags/carbon"}],"readingTime":0.305,"hasTruncateMarker":false,"authors":[{"name":"rxcats","title":"Mobile Game Backend Developer","url":"https://github.com/rxcats","imageURL":"https://avatars.githubusercontent.com/u/6582519?v=4","key":"rxcats"}],"frontMatter":{"slug":"share-code-carbon","title":"\ucf54\ub4dc \uc608\uc058\uac8c \uacf5\uc720\ud558\uae30","authors":["rxcats"],"tags":["share","code","carbon"],"date":"2022-12-31T06:00:00.000Z"},"prevItem":{"title":"Retrying Feign Calls","permalink":"/rxcats-blog/blog/openfeign-retry"},"nextItem":{"title":"\uac1c\ubc1c\ud658\uacbd \uc124\uc815\ud558\uae30","permalink":"/rxcats-blog/blog/setup-develop-env"}},"content":"## Carbon\\n- \uc18c\uc2a4 \ucf54\ub4dc\ub97c \uc608\uc058\uac8c \ud3ec\ub9f7\ud305\ud558\uace0 \uacf5\uc720\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \uc11c\ube44\uc2a4\\n- https://carbon.now.sh/\\n\\n- \ucf54\ub4dc\ub97c \ubd99\uc5ec \ub123\uc740 \ud6c4 Export \ub97c \ud1b5\ud574 PNG, SVG \ub85c \ub2e4\uc6b4\ub85c\ub4dc \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n![\ubbf8\ub9ac\ubcf4\uae30](./carbon-usage.png)"},{"id":"setup-develop-env","metadata":{"permalink":"/rxcats-blog/blog/setup-develop-env","source":"@site/blog/2022-12-31-setup-develop-env.mdx","title":"\uac1c\ubc1c\ud658\uacbd \uc124\uc815\ud558\uae30","description":"Mac Xcode Command Line Toos \uc124\uce58","date":"2022-12-31T03:00:00.000Z","formattedDate":"December 31, 2022","tags":[{"label":"setup","permalink":"/rxcats-blog/blog/tags/setup"},{"label":"develop","permalink":"/rxcats-blog/blog/tags/develop"},{"label":"environment","permalink":"/rxcats-blog/blog/tags/environment"}],"readingTime":1.975,"hasTruncateMarker":false,"authors":[{"name":"rxcats","title":"Mobile Game Backend Developer","url":"https://github.com/rxcats","imageURL":"https://avatars.githubusercontent.com/u/6582519?v=4","key":"rxcats"}],"frontMatter":{"slug":"setup-develop-env","title":"\uac1c\ubc1c\ud658\uacbd \uc124\uc815\ud558\uae30","authors":["rxcats"],"tags":["setup","develop","environment"],"date":"2022-12-31T03:00:00.000Z"},"prevItem":{"title":"\ucf54\ub4dc \uc608\uc058\uac8c \uacf5\uc720\ud558\uae30","permalink":"/rxcats-blog/blog/share-code-carbon"}},"content":"## Mac Xcode Command Line Toos \uc124\uce58\\n```shell\\nxcode-select --install\\n```\\n\\n## Oh My ZSH \uc124\uce58\\n- https://ohmyz.sh/\\n\\n```shell\\nsh -c \\"$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\\"\\n```\\n\\n## \ud328\ud0a4\uc9c0 \uad00\ub9ac\uc790 Homebrew \uc124\uce58\\n- https://brew.sh/\\n\\n```shell\\n/bin/bash -c \\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\\"\\n```\\n\\n### Homebrew \ud658\uacbd\uc124\uc815\\n- Homebrew \uc124\uce58\ud6c4 $PATH \uc124\uc815\uc774 \ub418\uc9c0 \uc54a\uc558\uc744 \uacbd\uc6b0 brew \uba85\ub839\uc5b4\uac00 \ub3d9\uc791\ud558\uc9c0 \uc54a\uc744 \uc218 \uc788\uc73c\ubbc0\ub85c $PATH \uc124\uc815\uc744 \ucd94\uac00\\n- .zprofile \uc5d0 \ucd94\uac00\ub418\ub3c4\ub85d \ud558\uae30\\n\\n```shell\\necho \'eval \\"$(/opt/homebrew/bin/brew shellenv)\\"\' >> ~/.zprofile\\nsource ~/.zprofile\\nbrew doctor\\n```\\n\\n### Homebrew \ub9ac\ub205\uc2a4\\n\\n#### Requirements\\n- Linux 3.2 or newer\\n- Glibc 2.13 or newer\\n- 64-bit x86_64 CPU\\n\\n#### \ube4c\ub4dc\ud234 \uc124\uce58\ub294 \uc544\ub798 \uba85\ub839\uc5b4\ub85c \uc124\uce58\\n\\n- Debian or Ubuntu\\n```shell\\nsudo apt-get install build-essential procps curl file git\\n```\\n\\n- Fedora, CentOS, or Red Hat\\n```shell\\nsudo yum groupinstall \'Development Tools\'\\nsudo yum install procps-ng curl file git\\n```\\n\\n#### \ud658\uacbd\uc124\uc815\\n- $PATH \uc124\uc815 .zprofile \uc5d0 \ucd94\uac00\\n```shell\\necho \'eval \\"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\\"\' >> ~/.zprofile\\nsource ~/.zprofile\\n```\\n\\n## \ud328\ud0a4\uc9c0 \uad00\ub9ac\uc790 asdf \uc124\uce58\\n- https://asdf-vm.com/\\n- \uc608\ub97c \ub4e4\uba74 jdk 17 \uc5ec\ub7ec\uac1c\uc758 \ubc84\uc804\uc744 \uc124\uce58\ud558\uace0 \uad00\ub9ac\ud560 \uc218 \uc788\uc74c\\n\\n```shell\\nbrew install asdf\\n```\\n\\n### Node JS \uc124\uce58\\n\\n```shell\\nasdf plugin add nodejs\\nasdf install nodejs 18.12.1\\nasdf global nodejs 18.12.1\\n```\\n\\n### JDK 17 \uc124\uce58\\n```shell\\nasdf plugin add java\\nasdf install java zulu-17.38.21\\nasdf global java zulu-17.38.21\\n```\\n\\n## Docker \uc124\uce58\\n\\n```shell\\nbrew install --cask docker\\n```\\n\\n## JetBrains ToolBox \uc124\uce58\\n\\n```shell\\nbrew install --cask jetbrains-toolbox\\n```\\n\\n## direnv \uc124\uce58\\n- \ub514\ub809\ud1a0\ub9ac\ubcc4\ub85c \ud658\uacbd\ubcc0\uc218\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc74c\\n\\n```shell\\nbrew install direnv\\n```\\n\\n### direnv \ud658\uacbd\uc124\uc815\\n- $PATH \uc124\uc815 .zprofile \uc5d0 \ucd94\uac00\\n```shell\\necho \'eval \\"$(direnv hook zsh)\\"\' >> ~/.zprofile\\nsource ~/.zprofile\\n```\\n\\n### direnv \uc0ac\uc6a9\ubc29\ubc95\\n- \ud504\ub85c\uc81d\ud2b8 \ub514\ub809\ud1a0\ub9ac\uc5d0 asdf java local \ubc84\uc804 \uc124\uc815\\n- project-directory \uc5d0 \ub4e4\uc5b4\uac00\uac8c \ub418\uba74 direnv \ud2b8\ub9ac\uac70\uac00 \uc791\ub3d9\\n\\n```shell\\ncd project-directory\\nasdf local java zulu-17.38.21\\ndirenv allow .\\n```"}]}')}}]);